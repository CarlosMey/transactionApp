import{u as h}from"./todo.787a65f2.js";import{d as y,r as b,m as g,_ as k,b as x,o as r,c as u,e as T,w as V,a as t,g as l,v as d,F as C,h as U,f as N,n as f}from"./index.23401402.js";import{u as $}from"./index.00a64885.js";const D=y({setup(){g();const s=b(0),a=h();let c=[];const n=b({id:0,name:"",lastname:"",bod:"",phone:"",email:"",address:"",transactions:c});async function m(o){console.log(o),await a.updateUser(o,n.value),n.value=await a.listarT(s.value)}async function v(o){const i=n.value.transactions.filter(w=>w.id===o);await a.createTransaction(i[0]),n.value=await a.listarT(s.value)}function p(){n.value.transactions.push({id:$(),user_id:n.value.id,transaction:0,amount:0,date:"",status:!0}),console.log(n.value.transactions)}async function e(o){const i=n.value.transactions.filter(w=>w.id===o);console.log(i),await a.updateTransaction(i[0]),n.value=await a.listarT(s.value)}function _(o){a.deleteTransaction(o),n.value.transactions=n.value.transactions.filter(i=>i.id!==o)}return{id:s,todoStore:a,updatePersonalData:m,createNew:v,user:n,updateTransaction:e,deleteTransaction:_,addTransaction:p,transactions:c}},async created(){this.id=Number(this.$route.params.id),this.user=await this.todoStore.listarT(this.id)}});const A={class:"max-w-screen-xl w-max flex flex-col justify-center px-4 py-10"},E={class:"flex flex-wrap p-2 bg-light-grey rounded-mb shadow-lg"},P=t("div",{class:"rounded-mb bg-light-grey block"},[t("div",null,"Add Client"),t("div",null,"Personal Information")],-1),B={class:"w-full"},S={class:"flex flex-wrap"},j={class:"w-96"},F=t("label",{class:"w-20 pr-2"},"First Name",-1),L={class:"w-96"},M=t("label",{class:"w-20 pr-2"},"Last Name",-1),I={class:"w-96"},O=t("label",{class:"w-20 pr-8"},"DOB",-1),R={class:"w-full pt-8"},Y={class:"flex flex-wrap"},q={class:"w-96"},z=t("label",{class:"w-20 pr-9"},"Phone",-1),G={class:"w-96"},H=t("label",{class:"w-20 pr-10"},"Email",-1),J={class:"w-96"},K=t("label",{class:"w-20 pr-2"},"Address",-1),Q={class:"my-5 flex justify-center content-center mb-3"},W=t("div",{class:"rounded-mb bg-light-grey block pt-10"},"PAYMENTS",-1),X={class:"flex justify-center content-center mb-3"},Z={class:"w-96"},tt=t("label",{class:"w-20 pr-1"},"Transaction",-1),et=["onUpdate:modelValue"],st={class:"w-96"},at=t("label",{class:"w-20 pr-6"},"Amount",-1),ot=["onUpdate:modelValue"],nt={class:"w-96"},lt=t("label",{class:"w-20 pr-7"},"Date",-1),dt=["onUpdate:modelValue"],it=["onClick"],rt=["onClick"],ut=["onClick"];function ct(s,a,c,n,m,v){const p=x("router-link");return r(),u("div",A,[T(p,{class:"mb-5 w-30",to:{name:"lista"}},{default:V(()=>[N("Volver a lista")]),_:1}),t("form",E,[P,t("div",B,[t("div",S,[t("div",j,[F,l(t("input",{class:"w-72",type:"text","onUpdate:modelValue":a[0]||(a[0]=e=>s.user.name=e)},null,512),[[d,s.user.name]])]),t("div",L,[M,l(t("input",{class:"w-72",type:"text","onUpdate:modelValue":a[1]||(a[1]=e=>s.user.lastname=e)},null,512),[[d,s.user.lastname]])]),t("div",I,[O,l(t("input",{class:"w-72",type:"date","onUpdate:modelValue":a[2]||(a[2]=e=>s.user.bod=e)},null,512),[[d,s.user.bod]])])]),t("div",R,[t("div",Y,[t("div",q,[z,l(t("input",{class:"w-72",type:"text","onUpdate:modelValue":a[3]||(a[3]=e=>s.user.phone=e)},null,512),[[d,s.user.phone]])]),t("div",G,[H,l(t("input",{class:"w-72",type:"text","onUpdate:modelValue":a[4]||(a[4]=e=>s.user.email=e)},null,512),[[d,s.user.email]])]),t("div",J,[K,l(t("input",{class:"w-72",type:"text","onUpdate:modelValue":a[5]||(a[5]=e=>s.user.address=e)},null,512),[[d,s.user.address]])])])]),t("div",Q,[t("button",{onClick:a[6]||(a[6]=e=>s.updatePersonalData(s.id)),type:"button",class:"py-2 px-4 bg-orange-500 rounded-md font-bold hover:bg-orange-400"}," Editar ")]),W,t("div",X,[t("button",{type:"button",onClick:a[7]||(a[7]=(...e)=>s.addTransaction&&s.addTransaction(...e)),class:"text-3xl px-5 py-3 rounded-full bg-green-500"}," + ")]),(r(!0),u(C,null,U(s.user.transactions,(e,_)=>(r(),u("div",{class:"flex flex-wrap mb-5",key:_},[t("div",Z,[tt,l(t("input",{class:"w-72",type:"text","onUpdate:modelValue":o=>e.transaction=o},null,8,et),[[d,e.transaction]])]),t("div",st,[at,l(t("input",{class:"w-72",type:"text","onUpdate:modelValue":o=>e.amount=o},null,8,ot),[[d,e.amount]])]),t("div",nt,[lt,l(t("input",{class:"w-72",type:"date","onUpdate:modelValue":o=>e.date=o},null,8,dt),[[d,e.date]])]),t("div",null,[t("button",{type:"button",onClick:o=>s.deleteTransaction(e.id),class:"bg-red-600 block text-white py-1 px-2"}," Delete ",8,it),e.status?f("",!0):(r(),u("button",{key:0,type:"button",onClick:o=>s.updateTransaction(e.id),class:"bg-orange-600 block text-white py-1 px-2"}," Edit ",8,rt)),e.status?(r(),u("button",{key:1,type:"button",onClick:o=>s.createNew(e.id),class:"bg-green-600 block text-white py-1 px-2"}," Add ",8,ut)):f("",!0)])]))),128))])])])}const mt=k(D,[["render",ct]]);export{mt as default};
